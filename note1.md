## 网络
### UDP
- 在发送端，应用层将数据传递给传输层的UDP协议，UDP只会给数据增加一个UDP头标识下是UDP协议，然后就传递给网络层了。
- 在接收端，网络层将数据传递给传输层，UDP只去除IP报文头就传递给应用层，不会任何拼接操作
- 不可靠性

1. UDP是无连接的，也就是说通信不需要建立和断开连接
2. UDP也是不可靠的。协议收到什么数据就传递什么数据，并且也不会备份数据，对方能不能接收到是不关心的
3. UDP没有拥塞控制，一直会以恒定的速度发送数据。即使网络条件不好，也不会对发送速率进行调整。这样实现的弊端就是在网络条件不好的情况下可能会导致丢包，但是优点也很明显，在某些实时性要求高的场景就需要使用UDP而不是TCP。
- 高效，头部只有八字节，TCP20字节

头部包含了以下几个数据
- 两个十六位的端口号，分别为源端口和目标端口
- 整个数据报文的长度
- 整个数据报文的校验和，该字段用于发现头部信息和数据中的错误
## ARQ协议
ARQ协议也就是超时重传机制。通过确认和超时机制保证了数据的正确送达，ARQ协议包含停止等待ARQ和连续ARQ。
### 正常传输过程
只要A向B发送一段报文，都要停止发送并启动一个定时器，等待对端回应，在定时器时间内接收到对端应答就取消定时器并发送下一段报文。
### 报文丢失或出错
在报文传输的过程中可能会出现丢包。这时候超时定时器设定的时间就会再次发送丢包的知道对端响应，多以需要每次都备份发送的数据
### ACK超时或丢失
对端传输的应答也可能出现丢失或超时的情况。那么超时定时器A端照样会重传报文。这时候B端收到相同序号的报文会丢弃报文并重传应答，直到A端发送下一个序号的报文

PS:一般定时器设定的时间都会大于一个RTT的平均时间
### 连续ARQ
在连续ARQ中，发送端拥有一个发送窗口，可以在没有收到应答的情况下持续发送窗口内的数据，这样相比停止等待ARQ协议来说减少了等待时间，提高了效率。
### 累计确认
收到多个报文以后统一回复一个应答报文。报文中的ACK可以用来告诉发送端这个序号之前的数据已经全部接收到了，下次请发送这个序号+1的数据

但是累计确认也有一个弊端。在连续接收报文时，可能会遇到接收到序号5的报文后，并未接收到序号6的报文，然后序号7以后得报文已经接收。遇到这种情况时，ACk只能回复6，这样会造成发送端重复发送数据，这种情况下可以通过Sack来解决
